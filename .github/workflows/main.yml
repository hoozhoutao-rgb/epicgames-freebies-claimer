name: Daily Claim

on:
  workflow_dispatch:
  schedule:
    - cron: "0 16 * * *"

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3

      # ğŸ”¥ å¿…é¡»ç”¨ Node 20 (è§£å†³ä½ åˆšæ‰çš„ File æŠ¥é”™)
      - uses: actions/setup-node@v3
        with:
          node-version: 20

      # æ¸…ç†æ—§åƒåœ¾ï¼Œå®‰è£…æ–°ä¾èµ–
      - name: Install
        run: |
          rm -rf node_modules
          rm -f package-lock.json
          npm install

      # ğŸ”¥ å¿…é¡»ç”¨ npm start (è§£å†³ä¹‹å‰çš„æ‰¾ä¸åˆ°æ–‡ä»¶æŠ¥é”™)
      - name: Run
        env:
          EPIC_GAMES_DATA: ${{ secrets.EPIC_GAMES_DATA }}
        run: npm start
